# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

_Public Classes_

* [`apics`](#apics): Manages an Oracle API Platform gateway node.

_Private Classes_

* `apics::config`: Manages the gateway node configuration.
* `apics::deploy`: Manages the gateway node deployment.
* `apics::install`: Manages the gateway user, group, dependencies, and files.

**Defined types**

* [`apics::gateway_exec`](#apicsgateway_exec): Executes a gateway action.
* [`apics::gateway_props`](#apicsgateway_props): Manages a gateway properties file.

**Data types**

* [`Apics::ExecutionMode`](#apicsexecutionmode): 
* [`Apics::GatewayAction`](#apicsgatewayaction): 
* [`Apics::GatewayProps`](#apicsgatewayprops): 

## Classes

### apics

Manages an Oracle API Platform gateway node.

#### Examples

##### 

```puppet
class { 'apics': }
```

#### Parameters

The following parameters are available in the `apics` class.

##### `user`

Data type: `String`

The name of the gateway node user. Default: 'oracle'.

##### `group`

Data type: `String`

The name of the gateway node group. Default: 'oracle'.

##### `manage_user`

Data type: `Boolean`

Whether or not the gateway node user will be managed. Default: true.

##### `manage_group`

Data type: `Boolean`

Whether or not the gateway node user will be managed. Default: true.

##### `manage_unzip_package`

Data type: `Boolean`

Whether the unzip package should be managed. Default: true.

##### `basedir`

Data type: `Stdlib::Unixpath`

The root directory of the gateway node directory tree. Default: '/opt/oracle'.

##### `installer_source`

Data type: `Stdlib::Filesource`

The location of the gateway node installer. Default: '/tmp/ApicsGatewayInstaller.zip'.

##### `installer_target`

Data type: `Stdlib::Unixpath`

The location where the gateway node installer will be copied. Default: '/tmp/ApicsGatewayInstaller.zip'.

##### `installer_cleanup`

Data type: `Boolean`

Whether or not the installer file will be removed after extraction. Default: false.

##### `logical_gateway_id`

Data type: `Integer`

The ID of the logical gateway the node registers to. Default: 100.

##### `logical_gateway`

Data type: `Optional[String]`

The name of the logical gateway the node registers to. Default: undef.

##### `management_service_url`

Data type: `Optional[Stdlib::HTTPSUrl]`

The URL of the management service instance that the node registers to. Default: undef.

##### `idcs_url`

Data type: `Optional[Stdlib::HTTPSUrl]`

The URL of the IDCS instance the node uses to communicate with the management service. Default: undef.

##### `request_scope`

Data type: `Optional[String]`

The IDCS scope the node uses to communicate with the management service. Default: undef.

##### `gateway_node_name`

Data type: `String`

The name of the gateway node. Default: 'hostname' fact.

##### `gateway_node_description`

Data type: `Optional[String]`

The description of the gateway node. Default: undef.

##### `listen_ip_address`

Data type: `Stdlib::IP::Address::V4`

The internal IP used for the configuration of the node domain. Default: 'ipaddress' fact.

##### `publish_address`

Data type: `Stdlib::Host`

The public IP/hostname displayed in the management service for the node's URL. Default: 'fqdn' fact.

##### `gateway_execution_mode`

Data type: `Apics::ExecutionMode`

The execution mode of the gateway node. Valid options: 'Development', 'Production'. Default: 'Development'.

##### `heap_size_gb`

Data type: `Integer`

The memory to be used by the admin and managed servers (in GB). Default: 2.

##### `maximum_heap_size_gb`

Data type: `Integer`

The maximum memory allowed to be used by the admin and managed servers (in GB). Default: 4.

##### `gateway_managed_server_port`

Data type: `Stdlib::Port`

The HTTP port of the managed gateway node. Default: 8011.

##### `gateway_managed_server_ssl_port`

Data type: `Stdlib::Port`

The HTTPS port of the managed gateway node. Default: 9022.

##### `node_manager_port`

Data type: `Stdlib::Port`

The port used by the node manager. Default: 5556.

##### `coherence_port`

Data type: `Stdlib::Port`

The Coherence port used by the gateway node domain. Default: 8088.

##### `gateway_db_port`

Data type: `Stdlib::Port`

The Java DB port used by the gateway. Default: 1527.

##### `gateway_admin_server_port`

Data type: `Stdlib::Port`

The HTTP port of the gateway node admin console. Default: 8001.

##### `gateway_admin_server_ssl_port`

Data type: `Stdlib::Port`

The HTTP port of the gateway node admin console. Default: 9021.

##### `gateway_admin_username`

Data type: `String`

The username of the WebLogic administrator. Default: 'weblogic'.

##### `gateway_admin_password`

Data type: `String`

The password of the Weblogic administrator. Default: 'Welcome1'.

##### `manage_jdk_package`

Data type: `Boolean`

Whether or not the JDK package will be managed. Default: true.

##### `jdk_package_type`

Data type: `Enum['rpm', 'tar.gz']`

The type of installation package. Valid values: 'rpm', 'tar.gz'. Default: 'rpm'.

##### `jdk_package_version`

Data type: `Pattern[/\A8u\d+\z/]`

The version of the JDK to install. Default: '8u251'.

##### `jdk_package_source`

Data type: `Stdlib::Filesource`

The location of the JDK package. Default: '/tmp/jdk.rpm'.

##### `java_home`

Data type: `Stdlib::Unixpath`

The path to the JAVA_HOME directory. Default: '/usr/java/default'.

## Defined types

### apics::gateway_exec

Executes a gateway action.

#### Examples

##### 

```puppet
apics::gateway_exec { 'install': }
```

#### Parameters

The following parameters are available in the `apics::gateway_exec` defined type.

##### `action`

Data type: `Apics::GatewayAction`

The gateway action to execute.

Default value: $title

### apics::gateway_props

Manages a gateway properties file.

#### Examples

##### 

```puppet
apics::gateway_props { '/tmp/gateway-props.json':
  ensure => present,
  props  => {
    'nodeInstallDir'  => '/opt/oracle/gateway',
    'listenIpAddress' => $facts['ipaddress'],
    'publishAddress'  => $facts['fqdn'],
  },
}
```

#### Parameters

The following parameters are available in the `apics::gateway_props` defined type.

##### `ensure`

Data type: `Enum['present', 'absent']`

Whether the file should exist. Valid options: 'present', 'absent'.

##### `path`

Data type: `Stdlib::Unixpath`

The path to the file.

Default value: $title

##### `props`

Data type: `Apics::GatewayProps`

The properties to write to the file. All values will be converted to strings and undefs will be dropped.

Default value: {}

## Data types

### Apics::ExecutionMode

The Apics::ExecutionMode data type.

Alias of `Enum['Development', 'Production']`

### Apics::GatewayAction

The Apics::GatewayAction data type.

Alias of `Enum['install', 'configure', 'start']`

### Apics::GatewayProps

The Apics::GatewayProps data type.

Alias of `Struct[{
  logicalGatewayId          => Optional[Integer],
  logicalGateway            => Optional[String],
  managementServiceUrl      => Optional[Stdlib::HTTPSUrl],
  idcsUrl                   => Optional[Stdlib::HTTPSUrl],
  requestScope              => Optional[String],
  gatewayNodeName           => Optional[String],
  gatewayNodeDescription    => Optional[String],
  listenIpAddress           => Optional[Stdlib::IP::Address::V4],
  publishAddress            => Optional[Stdlib::Host],
  nodeInstallDir            => Optional[Stdlib::Unixpath],
  gatewayExecutionMode      => Optional[Apics::ExecutionMode],
  heapSizeGb                => Optional[Integer],
  maximumHeapSizeGb         => Optional[Integer],
  gatewayMServerPort        => Optional[Stdlib::Port],
  gatewayMServerSSLPort     => Optional[Stdlib::Port],
  nodeManagerPort           => Optional[Stdlib::Port],
  coherencePort             => Optional[Stdlib::Port],
  gatewayDBPort             => Optional[Stdlib::Port],
  gatewayAdminServerPort    => Optional[Stdlib::Port],
  gatewayAdminServerSSLPort => Optional[Stdlib::Port],
  gatewayadminName          => Optional[String],
  gatewayadminPassword      => Optional[String],
}]`

