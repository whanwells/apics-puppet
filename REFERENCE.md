# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`apics`](#apics): Manages an Oracle API Platform gateway node.

#### Private Classes

* `apics::config`: Manages the gateway node configuration.
* `apics::deploy`: Manages the gateway node deployment.
* `apics::install`: Manages the gateway user, group, dependencies, and files.

### Defined types

* [`apics::gateway_exec`](#apicsgateway_exec): Executes a gateway action.
* [`apics::gateway_installer`](#apicsgateway_installer): Manages a gateway node installer.
* [`apics::gateway_props`](#apicsgateway_props): Manages a gateway properties file.

### Data types

* [`Apics::ExecutionMode`](#apicsexecutionmode)
* [`Apics::GatewayAction`](#apicsgatewayaction)

## Classes

### `apics`

Manages an Oracle API Platform gateway node.

#### Examples

##### 

```puppet
class { 'apics': }
```

#### Parameters

The following parameters are available in the `apics` class.

##### `user`

Data type: `String`

The name of the gateway node user. Default: 'oracle'.

##### `group`

Data type: `String`

The name of the gateway node group. Default: 'oracle'.

##### `manage_user`

Data type: `Boolean`

Whether or not the gateway node user will be managed. Default: true.

##### `manage_group`

Data type: `Boolean`

Whether or not the gateway node user will be managed. Default: true.

##### `manage_unzip_package`

Data type: `Boolean`

Whether the unzip package should be managed. Default: true.

##### `basedir`

Data type: `Stdlib::Unixpath`

The root directory of the gateway node directory tree. Default: '/opt/oracle'.

##### `installer_source`

Data type: `Stdlib::Filesource`

The location of the gateway node installer. Default: '/tmp/ApicsGatewayInstaller.zip'.

##### `installer_target`

Data type: `Stdlib::Unixpath`

The location where the gateway node installer will be copied. Default: '/tmp/ApicsGatewayInstaller.zip'.

##### `installer_cleanup`

Data type: `Boolean`

Whether or not the installer file will be removed after extraction. Default: false.

##### `logical_gateway_id`

Data type: `Integer`

The ID of the logical gateway the node registers to. Default: 100.

##### `logical_gateway`

Data type: `Optional[String]`

The name of the logical gateway the node registers to. Default: undef.

##### `management_service_url`

Data type: `Optional[Stdlib::HTTPSUrl]`

The URL of the management service instance that the node registers to. Default: undef.

##### `idcs_url`

Data type: `Optional[Stdlib::HTTPSUrl]`

The URL of the IDCS instance the node uses to communicate with the management service. Default: undef.

##### `request_scope`

Data type: `Optional[String]`

The IDCS scope the node uses to communicate with the management service. Default: undef.

##### `gateway_node_name`

Data type: `String`

The name of the gateway node. Default: 'hostname' fact.

##### `gateway_node_description`

Data type: `Optional[String]`

The description of the gateway node. Default: undef.

##### `listen_ip_address`

Data type: `Stdlib::IP::Address::V4`

The internal IP used for the configuration of the node domain. Default: 'ipaddress' fact.

##### `publish_address`

Data type: `Stdlib::Host`

The public IP/hostname displayed in the management service for the node's URL. Default: 'fqdn' fact.

##### `gateway_execution_mode`

Data type: `Apics::ExecutionMode`

The execution mode of the gateway node. Valid options: 'Development', 'Production'. Default: 'Development'.

##### `heap_size_gb`

Data type: `Integer`

The memory to be used by the admin and managed servers (in GB). Default: 2.

##### `maximum_heap_size_gb`

Data type: `Integer`

The maximum memory allowed to be used by the admin and managed servers (in GB). Default: 4.

##### `gateway_managed_server_port`

Data type: `Stdlib::Port`

The HTTP port of the managed gateway node. Default: 8011.

##### `gateway_managed_server_ssl_port`

Data type: `Stdlib::Port`

The HTTPS port of the managed gateway node. Default: 9022.

##### `node_manager_port`

Data type: `Stdlib::Port`

The port used by the node manager. Default: 5556.

##### `coherence_port`

Data type: `Stdlib::Port`

The Coherence port used by the gateway node domain. Default: 8088.

##### `gateway_db_port`

Data type: `Stdlib::Port`

The Java DB port used by the gateway. Default: 1527.

##### `gateway_admin_server_port`

Data type: `Stdlib::Port`

The HTTP port of the gateway node admin console. Default: 8001.

##### `gateway_admin_server_ssl_port`

Data type: `Stdlib::Port`

The HTTP port of the gateway node admin console. Default: 9021.

##### `gateway_admin_username`

Data type: `String`

The username of the WebLogic administrator. Default: 'weblogic'.

##### `gateway_admin_password`

Data type: `String`

The password of the Weblogic administrator. Default: 'Welcome1'.

##### `manage_jdk_package`

Data type: `Boolean`

Whether or not the JDK package will be managed. Default: true.

##### `jdk_package_type`

Data type: `Enum['rpm', 'tar.gz']`

The type of installation package. Valid values: 'rpm', 'tar.gz'. Default: 'rpm'.

##### `jdk_package_version`

Data type: `Pattern[/\A8u\d+\z/]`

The version of the JDK to install. Default: '8u251'.

##### `jdk_package_source`

Data type: `Stdlib::Filesource`

The location of the JDK package. Default: '/tmp/jdk.rpm'.

##### `java_home`

Data type: `Stdlib::Unixpath`

The path to the JAVA_HOME directory. Default: '/usr/java/default'.

##### `create_logical_gateway`

Data type: `Boolean`

Whether or not to create the node's logical gateway. Default: false

##### `join_logical_gateway`

Data type: `Boolean`

Whether or not the node will join its logical gateway. Default: false.

##### `client_id`

Data type: `Optional[String]`

The client ID of the management service instance that the node registers to. Default: undef.

##### `client_secret`

Data type: `Optional[String]`

The client secret of the management service instance that the node registers to. Default: undef.

##### `gateway_manager_username`

Data type: `Optional[String]`

The name of the user responsible for managing the gateway. Default: undef.

##### `gateway_manager_password`

Data type: `Optional[String]`

The password of the gateay manager user. Default: undef.

##### `gateway_runtime_username`

Data type: `Optional[String]`

The name of the user that downloads configuration from and uploads statistics to the gateway. Default: undef.

##### `gateway_runtime_password`

Data type: `Optional[String]`

The password of the gateway runtime user. Default: undef.

## Defined types

### `apics::gateway_exec`

Executes a gateway action.

#### Examples

##### 

```puppet
apics::gateway_exec { 'install': }
```

#### Parameters

The following parameters are available in the `apics::gateway_exec` defined type.

##### `action`

Data type: `Apics::GatewayAction`

The gateway action to execute.

Default value: `$title`

##### `refreshonly`

Data type: `Boolean`

Whether or not the command should only run when a dependent object is changed.

Default value: ``false``

### `apics::gateway_installer`

Manages a gateway node installer.

#### Examples

##### 

```puppet
apics::gateway_installer { '/opt/installer':
  ensure => present,
  owner  => 'oracle',
  group  => 'oracle',
  source => '/tmp/ApicsGatewayInstaller.zip',
}
```

#### Parameters

The following parameters are available in the `apics::gateway_installer` defined type.

##### `ensure`

Data type: `Enum['present', 'absent']`

Whether or not the installer should exist.

##### `path`

Data type: `Stdlib::Unixpath`

The path of the installer directory.

Default value: `$title`

##### `owner`

Data type: `String`

The user that owns the installer directory.

##### `group`

Data type: `String`

The group that owns the installer directory.

##### `mode`

Data type: `Stdlib::Filemode`

The permissions of the installer directory.

Default value: `'0700'`

##### `source`

Data type: `Stdlib::Filesource`

The location of the gateway node installer archive.

##### `target`

Data type: `Stdlib::Unixpath`

The location where the gateway node installer archive will be copied.

Default value: `'/tmp/ApicsGatewayInstaller.zip'`

##### `force`

Data type: `Boolean`

Whether or not an existing installer can be overwritten.

Default value: ``false``

##### `cleanup`

Data type: `Boolean`

Whether or not the installer archive will be removed after extraction.

Default value: ``false``

### `apics::gateway_props`

Manages a gateway properties file.

#### Examples

##### 

```puppet
apics::gateway_props { '/opt/installer/gateway-props.json':
  ensure  => present,
  owner   => 'oracle',
  group   => 'oracle',
  content => {
    'nodeInstallDir'  => '/opt/oracle/gateway',
    'listenIpAddress' => $facts['ipaddress'],
    'publishAddress'  => $facts['fqdn'],
  },
}
```

#### Parameters

The following parameters are available in the `apics::gateway_props` defined type.

##### `ensure`

Data type: `Enum['present', 'absent']`

Whether the file should exist.

##### `path`

Data type: `Stdlib::Unixpath`

The path to the file.

Default value: `$title`

##### `owner`

Data type: `String`

The user that owns the file.

##### `group`

Data type: `String`

The group that owns the file.

##### `mode`

Data type: `Stdlib::Filemode`

The permissions of the file.

Default value: `'0400'`

##### `content`

Data type: `Hash[String, Optional[Variant[String, Integer, Array[String]]]]`

The properties to write to the file.

Default value: `{}`

## Data types

### `Apics::ExecutionMode`

The Apics::ExecutionMode data type.

Alias of `Enum['Development', 'Production']`

### `Apics::GatewayAction`

The Apics::GatewayAction data type.

Alias of `Enum['install', 'configure', 'start', 'creategateway', 'join']`

